<div class="menu-wrapper">
  <nav class="menu-adm" id="menu-links"></nav>
</div>

<script>
(async function carregarMenu() {

  if (typeof firebase === "undefined") return;

  const db = firebase.firestore();
  const nav = document.getElementById("menu-links");

  try {
    const snap = await db.collection("config").doc("menu").get();
    if (!snap.exists) return;

    const itens = (snap.data().itens || [])
      .filter(i => i.ativo !== false)
      .sort((a, b) => (a.ordem || 0) - (b.ordem || 0));

    itens.forEach(item => {

      // seguranÃ§a mÃ­nima
      if (!item.rota || !item.area || !item.chave) return;

      const a = document.createElement("a");
      a.href = item.rota;
      a.className = "menu-link";
      a.dataset.area = item.area;
      a.dataset.chave = item.chave;

      a.innerHTML = `${item.icone || "ğŸ“"} <span>${item.titulo}</span>`;
      nav.appendChild(a);
    });

    // BOTÃƒO SAIR (fixo)
    const sair = document.createElement("a");
    sair.href = "#";
    sair.className = "menu-link sair";
    sair.id = "btnLogout";
    sair.innerHTML = "ğŸšª <span>Sair</span>";
    nav.appendChild(sair);

  } catch (e) {
    console.error("Erro ao carregar menu:", e);
  }
})();
</script>